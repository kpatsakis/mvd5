void avcodec_string(char *buf, int buf_size, AVCodecContext *enc, int encode) if ( ! buf || buf_size <= 0 )  switch ( enc -> codec_type )  char detail [ 256 ] = "(" ; if ( strlen ( detail ) > 1 )  detail [ strlen ( detail ) - 2 ] = 0; if ( encode )  if ( enc -> properties & FF_CODEC_PROPERTY_CLOSED_CAPTIONS )  snprintf ( buf + strlen ( buf ) , buf_size - strlen ( buf ) , ", Closed Captions" ); if ( enc -> properties & FF_CODEC_PROPERTY_LOSSLESS )  snprintf ( buf + strlen ( buf ) , buf_size - strlen ( buf ) , ", lossless" ); if ( enc -> sample_rate )  snprintf ( buf + strlen ( buf ) , buf_size - strlen ( buf ) , "%d Hz, " , enc -> sample_rate ); av_get_channel_layout_string ( buf + strlen ( buf ) , buf_size - strlen ( buf ) , enc -> channels , enc -> channel_layout ); 