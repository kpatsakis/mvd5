static void mux_chr_read(void *opaque, const uint8_t *buf, int size) CharDriverState * chr = opaque ; MuxDriver * d = chr -> opaque ; int i ; for(i = 0; i < size; i++) if ( mux_proc_byte ( chr , d , buf [ i ] ) )  static int mux_proc_byte(CharDriverState *chr, MuxDriver *d, int ch) if ( d -> term_got_escape )  if ( ch == term_escape_char )  switch ( ch )  mux_print_help ( chr ); static void mux_print_help(CharDriverState *chr) char cbuf [ 50 ] = "\n\r" ; if ( term_escape_char > 0 && term_escape_char < 26 )  snprintf ( cbuf , sizeof ( cbuf ) , "\n\rEscape-Char set to Ascii: 0x%02x\n\r\n\r" , term_escape_char ); chr -> chr_write ( chr , ( uint8_t * ) cbuf , strlen ( cbuf ) ); 