int avcodec_decode_video2(AVCodecContext *avctx,AVFrame *picture,int *got_picture_ptr,const AVPacket *avpkt) if ( ( avctx -> codec -> type ) != AVMEDIA_TYPE_VIDEO )  if ( ( avctx -> coded_width || avctx -> coded_height ) && av_image_check_size ( ( avctx -> coded_width ) , ( avctx -> coded_height ) , 0 , avctx ) )  avcodec_get_frame_defaults ( picture ); void avcodec_get_frame_defaults(AVFrame *frame) memset ( frame , 0 , sizeof ( AVFrame ) ); frame -> pts = frame -> pkt_dts = frame -> pkt_pts = ( ( int64_t ) 0x8000000000000000UL ); av_frame_set_best_effort_timestamp ( frame , ( ( int64_t ) 0x8000000000000000UL ) ); void av_frame_set_best_effort_timestamp(AVFrame *s,int64_t v) s -> best_effort_timestamp = v; av_frame_set_pkt_duration ( frame , 0 ); void av_frame_set_pkt_duration(AVFrame *s,int64_t v) s -> pkt_duration = v; av_frame_set_pkt_pos ( frame , ( - 1 ) ); void av_frame_set_pkt_pos(AVFrame *s,int64_t v) s -> pkt_pos = v; av_frame_set_pkt_size ( frame , - 1 ); void av_frame_set_pkt_size(AVFrame *s,int v) s -> pkt_size = v; frame -> key_frame = 1; frame -> format = - 1; frame -> extended_data = frame -> data; 