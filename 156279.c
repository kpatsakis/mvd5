 ByObjectClass::report(JSContext* cx, CountBase& countBase, MutableHandleValue report) Count & count = static_cast < Count & > countBase RootedPlainObject obj ( cx , cStringCountMapToObject ( cx , count . table ) ) ; static cStringCountMapToObject(JSContext* cx, CStringCountMap& map) mozilla :: Vector < CStringCountMap :: Entry * > entries ; if ( ! entries . reserve ( map . count ( ) ) )  RootedPlainObject obj ( cx , NewBuiltinClassInstance < PlainObject > ( cx ) ) ; if ( ! obj )  CountBasePtr & thenCount = entry -> value ( ) ; RootedValue thenReport ( cx ) ; if ( ! thenCount -> report ( cx , & thenReport ) )  const char * name = entry -> key ( ) ; JSAtom * atom = Atomize ( cx , name , strlen ( name ) ) ; if ( ! atom )  RootedId entryId ( cx , AtomToId ( atom ) ) ; if ( ! DefineProperty ( cx , obj , entryId , thenReport ) )  