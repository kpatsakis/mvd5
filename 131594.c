 nsClipboard::SetData(nsITransferable nsIClipboardOwner *aOwner, int32_t aWhichClipboard) if ( ( aWhichClipboard == kGlobalClipboard && aTransferable == mGlobalTransferable . get ( ) && aOwner == mGlobalOwner . get ( ) ) || ( aWhichClipboard == kSelectionClipboard && aTransferable == mSelectionTransferable . get ( ) && aOwner == mSelectionOwner . get ( ) ) )  nsCOMPtr < nsISupportsArray > flavors ; nsresult rv = aTransferable -> FlavorsTransferableCanExport ( getter_AddRefs ( flavors ) ) ; if ( ! flavors || NS_FAILED ( rv ) )  uint32_t count ; for (uint32_t i=0; i < count; i++) nsCOMPtr < nsISupports > tastesLike ; nsCOMPtr < nsISupportsCString > flavor = do_QueryInterface ( tastesLike ) ; if ( flavor )  nsXPIDLCString flavorStr ; if ( ! strcmp ( flavorStr , kUnicodeMime ) )  if ( flavorStr . EqualsLiteral ( kNativeImageMime ) || flavorStr . EqualsLiteral ( kPNGImageMime ) || flavorStr . EqualsLiteral ( kJPEGImageMime ) || flavorStr . EqualsLiteral ( kJPGImageMime ) || flavorStr . EqualsLiteral ( kGIFImageMime ) )  