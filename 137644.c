CommandResult NetworkUtils::setDefaultRouteLegacy(NetworkParams& aOptions) uint32_t length = aOptions . mGateways . Length ( ) ; if ( length > 0 )  for (uint32_t i = 0; i < length; i++) NS_ConvertUTF16toUTF8 autoGateway ( aOptions . mGateways [ i ] ) ; int type = getIpType ( autoGateway . get ( ) ) ; if ( type != AF_INET && type != AF_INET6 )  static int getIpType(const char *aIp) struct addrinfo hint , * ip_info = NULL ; memset ( & hint , 0 , sizeof ( hint ) ); hint . ai_family = AF_UNSPEC; hint . ai_flags = AI_NUMERICHOST; if ( getaddrinfo ( aIp , NULL , & hint , & ip_info ) )  