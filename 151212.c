static uint64_t eepro100_read(void *opaque, hwaddr unsigned size) EEPRO100State * s = opaque ; switch ( size )  return eepro100_read1 ( s , addr ) ; static uint8_t eepro100_read1(EEPRO100State * s, uint32_t addr) if ( addr <= sizeof ( s -> mem ) - sizeof ( val ) )  val = s -> mem [ addr ]; switch ( addr )  val = eepro100_read_command ( s ); val = eepro100_read_eeprom ( s ); static uint16_t eepro100_read_eeprom(EEPRO100State * s) uint16_t val = e100_read_reg2 ( s , SCBeeprom ) ; if ( eeprom93xx_read ( s -> eeprom ) )  val |= EEPROM_DO; val &= ~EEPROM_DO; return val ; val = ( uint8_t ) ( eepro100_read_mdi ( s ) >> ( 8 * ( addr & 3 ) ) ); static uint32_t eepro100_read_mdi(EEPRO100State * s) uint32_t val = e100_read_reg4 ( s , SCBCtrlMDI ) ; static uint32_t e100_read_reg4(EEPRO100State *s, E100RegisterOffset addr) return le32_to_cpup ( ( uint32_t * ) & s -> mem [ addr ] ) ; val |= BIT ( 28 ); return val ; TRACE ( OTHER , logout ( "addr=%s val=0x%02x\n" , regname ( addr ) , val ) ); static char *regname(uint32_t addr) static char buf [ 32 ] ; if ( addr < PCI_IO_SIZE )  snprintf ( buf , sizeof ( buf ) , "??? 0x%08x" , addr ); return buf ; 