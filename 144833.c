int ff_alloc_packet(AVPacket *avpkt,int size) return ff_alloc_packet2 ( ( ( void * ) 0 ) , avpkt , size ) ; int ff_alloc_packet2(AVCodecContext *avctx,AVPacket *avpkt,int size) if ( size < 0 || avpkt -> size < 0 || size > 2147483647 - 16 )  if ( avctx )  if ( ! avpkt -> data || avpkt -> size < size )  av_fast_padded_malloc ( ( & avctx -> internal -> byte_buffer ) , & avctx -> internal -> byte_buffer_size , size ); void av_fast_padded_malloc(void *ptr,unsigned int *size,size_t min_size) uint8_t * * p = ptr ; if ( min_size > 18446744073709551615UL - 16 )  if ( ! ff_fast_malloc ( p , size , min_size + 16 , 1 ) )  inline static int ff_fast_malloc(void *ptr,unsigned int *size,size_t min_size,int zero_realloc) if ( min_size < ( * size ) )  return 0 ; return 1 ; memset ( ( * p + min_size ) , 0 , 16 ); 