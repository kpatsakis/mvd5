 gfxDWriteFontEntry::CopyFontTable(uint32_t FallibleTArray<uint8_t> &aBuffer) gfxDWriteFontList * pFontList = gfxDWriteFontList :: PlatformFontList ( ) ; if ( mFont && pFontList -> UseGDIFontTableAccess ( ) && ! ( mItalic && UsingArabicOrHebrewScriptSystemLocale ( ) ) && ! mFont -> IsSymbolFont ( ) )  static UsingArabicOrHebrewScriptSystemLocale() LANGID langid = PRIMARYLANGID ( :: GetSystemDefaultLangID ( ) ) switch ( langid )  return true ; return false ; nsRefPtr < IDWriteFontFace > fontFace ; nsresult rv = CreateFontFace ( getter_AddRefs ( fontFace ) ) ; if ( NS_FAILED ( rv ) )  uint8_t * tableData ; uint32_t len ; BOOL exists ; HRESULT hr = fontFace -> TryGetFontTable ( NativeEndian :: swapToBigEndian ( aTableTag ) , ( const void * * ) & tableData , & len , & tableContext , & exists ) ; if ( FAILED ( hr ) || ! exists )  if ( aBuffer . SetLength ( len , fallible ) )  memcpy ( aBuffer . Elements ( ) , tableData , len ); 